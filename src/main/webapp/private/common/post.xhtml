<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" 
      xmlns:p="http://primefaces.org/ui"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:h="http://xmlns.jcp.org/jsf/html">

    <f:metadata>
        <f:viewParam name="postId" value="#{postController.selectedPostId}" />
        <f:event type="preRenderView" listener="#{postController.loadPost()}"/>
    </f:metadata>

    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    </head>

    <ui:composition template="./../../WEB-INF/template/template_security.xhtml">
        <ui:define name="content">
            <Body>
                <p:messages showDetail="true" showSummary="true"/>
                <p:autoUpdate/>
                <br/>
                <h2>Detalles del Post</h2>
                <div style="margin: 70px" >
                    <h7><h:outputText value="#{postController.selectedPost.titulo}" /></h7>
                    <br/><br/><br/>
                    <h8><h:outputText value="#{postController.selectedPost.cuerpoReview}" styleClass="preformatted"/></h8>


                    <br/><br/><br/><br/>

                    <div align="center" style="border-top: 5px solid #c65353">
                        <h:form>
                            <br/>
                            <p:outputLabel for="txtComentario" value="AÃ±adir comentario:" style="font-size: 26px; color: #AFAFAF; "/>
                            <br/>
                            <p:inputTextarea id="txtComentario" value="#{commentController.comment.cuerpoComentario}" style="width: 750px"/>
                            <br/><br/>
                            <h:column/>
                            <p:commandButton value="Publicar" action="#{commentController.publish(postController.selectedPost)}"/>
                            
                        </h:form>
                    </div>

                </div>
            </Body>
        </ui:define>
    </ui:composition>
</html>
